<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>MOTU Digital Signage</title>
  <link rel="stylesheet" href="./css/layout.css" />
</head>

<body>

  <!-- ================= HEADER ================= -->
  <header>
    <h1>MOTU Digital Signage</h1>
    <div id="clock"></div>
  </header>

  <!-- ================= MAIN CONTAINER ================= -->
  <main id="container">

    <!-- ================= PANEL A : GOOGLE DRIVE VIDEO ================= -->
    <section id="panelA">

      <!--
        IMPORTANT:
        This iframe REPLACES the <video> element.
        It is sized to behave exactly like #panelAVideo did.
        Content is controlled by Google Drive "Replace file".
      -->
      <iframe
        id="panelAVideo"
        src="https://drive.google.com/file/d/1bN1-Io7V4zggxg24vVgPr1ChEJIOreHo/preview"
        allow="autoplay"
        allowfullscreen
        style="
          width: 100%;
          height: 100%;
          border: none;
        ">
      </iframe>

    </section>

    <!-- ================= PANEL B : INFO COLUMN ================= -->
    <section id="panelB">

      <!-- WEATHER WIDGET -->
      <div id="weatherWidgetBox">
        <iframe
          src="https://api.wo-cloud.com/content/widget/?geoObjectKey=42748473&language=en&region=US&timeFormat=HH:mm&windUnit=mph&systemOfMeasurement=imperial&temperatureUnit=fahrenheit"
          scrolling="no"
          frameborder="0">
        </iframe>
      </div>

      <!-- CALENDAR -->
      <div id="calendarBox">
        <h2>Upcoming Events</h2>
        <div id="calendarTrack">Loading calendar...</div>
      </div>

    </section>
  </main>

  <!-- ================= FOOTER / TICKER ================= -->
  <footer id="ticker">
    <span id="tickerText">Loading...</span>
  </footer>

  <!-- ================= SCRIPTS ================= -->
  <script src="./js/clock.js"></script>
  <script src="./js/calendar.js"></script>
  <script src="./js/ticker.js"></script>

  <!-- ================= AUTO REFRESH ================= -->
  <script>
    // Periodic refresh to pick up Drive "Replace file" updates
    setInterval(() => {
      location.reload();
    }, 300000); // 5 minutes
  </script>

</body>
</html>
